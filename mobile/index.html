<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Atlas Mobile - Discover Creator Journalism</title>
    
    <!-- Prevent zoom on input focus iOS -->
    <meta name="format-detection" content="telephone=no">
    
    <!-- PWA Meta -->
    <meta name="theme-color" content="#000000">
    
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/animations.css">
    
    <!-- Google Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">Atlas</div>
            <div class="loading-text">Loading creators...</div>
        </div>
    </div>

    <!-- Main Container -->
    <div id="app-container" class="app-container">
        
        <!-- Bubble Visualization Canvas -->
        <div id="bubble-canvas" class="bubble-canvas"></div>
        
        <!-- Floating UI Elements -->
        <div class="floating-ui">
            <!-- Top Bar -->
            <div class="top-bar">
                <div id="creator-count" class="creator-count">792 Creators</div>
                <button id="info-button" class="icon-button" aria-label="Info">
                    <span class="material-icons">info</span>
                </button>
            </div>
            
            <!-- Bottom Bar -->
            <div class="bottom-bar">
                <button id="filter-button" class="icon-button primary" aria-label="Filter">
                    <span class="material-icons">filter_list</span>
                </button>
                <button id="view-switcher" class="icon-button" aria-label="Switch View">
                    <span class="material-icons">dashboard</span>
                </button>
            </div>
        </div>
        
        <!-- Tag Cloud Overlay -->
        <div id="tag-cloud-overlay" class="tag-cloud-overlay hidden">
            <div class="tag-cloud-header">
                <h2>Filter by Topic</h2>
                <button id="close-tag-cloud" class="close-button">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <div id="active-filters" class="active-filters"></div>
            <div id="tag-cloud-container" class="tag-cloud-container"></div>
            <button id="clear-filters" class="clear-filters-button">Clear All</button>
        </div>
        
        <!-- Swipe Cards View -->
        <div id="swipe-cards-view" class="swipe-cards-view hidden">
            <div class="swipe-cards-header">
                <button id="close-swipe-cards" class="close-button">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <div id="card-indicators" class="card-indicators"></div>
            <div id="cards-container" class="cards-container"></div>
        </div>
        
        <!-- Creator Detail Bottom Sheet -->
        <div id="bottom-sheet" class="bottom-sheet hidden">
            <div class="bottom-sheet-handle"></div>
            <div id="bottom-sheet-content" class="bottom-sheet-content">
                <!-- Dynamically populated -->
            </div>
        </div>
        
        <!-- Info Overlay -->
        <div id="info-overlay" class="info-overlay hidden">
            <div class="info-content">
                <button id="close-info" class="close-button">
                    <span class="material-icons">close</span>
                </button>
                <h2>The Independent Journalism Atlas</h2>
                <p>Discover 792+ independent creator-journalists across platforms like YouTube, Substack, Instagram, TikTok, and podcasts.</p>
                <h3>How to Explore</h3>
                <ul>
                    <li><strong>Tap bubbles</strong> to learn about creators</li>
                    <li><strong>Pinch & zoom</strong> to explore clusters</li>
                    <li><strong>Filter</strong> by topic to narrow your search</li>
                    <li><strong>Switch views</strong> to see category cards</li>
                </ul>
            </div>
        </div>
        
    </div>

    <!-- D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Hammer.js for touch gestures -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
    
    <!-- App Scripts -->
    <script src="js/data-loader.js"></script>
    <script src="js/bubble-viz.js"></script>
    <script src="js/tag-cloud.js"></script>
    <script src="js/swipe-cards.js"></script>
    <script src="js/bottom-sheet.js"></script>
    <script src="js/mobile-main.js"></script>
</body>
</html>
