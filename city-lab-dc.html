<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Atlas City Lab — Washington, D.C. / DMV</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Hanken Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #fff;
      color: #000;
      font-size: 16px;
      line-height: 1.5;
    }

    /* ── CRISIS BANNER ── */
    .crisis-banner {
      background: #1a0000;
      color: #ffbbbb;
      padding: 12px 48px;
      font-size: 13px;
      line-height: 1.5;
      border-bottom: 2px solid #cc0000;
    }
    .crisis-banner strong { color: #ff6666; }
    .crisis-banner .layoffs { color: #ffbbbb; }

    /* ── HEADER ── */
    .header { background: #000; color: #fff; padding: 40px 48px 36px; }
    .header-eyebrow {
      font-size: 11px; font-weight: 700; letter-spacing: 0.15em;
      text-transform: uppercase; color: #ceff00; margin-bottom: 12px;
    }
    .header-title {
      font-size: 48px; font-weight: 800;
      line-height: 1.0; letter-spacing: -0.02em;
    }
    .header-sub { margin-top: 10px; font-size: 15px; color: #aaa; }
    .header-meta { margin-top: 20px; display: flex; gap: 32px; flex-wrap: wrap; }
    .header-stat { display: flex; flex-direction: column; }
    .header-stat-num {
      font-size: 36px; font-weight: 800; color: #ceff00; line-height: 1;
    }
    .header-stat-label {
      font-size: 12px; color: #888; text-transform: uppercase;
      letter-spacing: 0.08em; margin-top: 2px;
    }

    /* ── PLATFORM BAR ── */
    .platform-bar {
      background: #efeff2; padding: 20px 48px;
      display: flex; gap: 24px; flex-wrap: wrap;
      align-items: center; border-bottom: 1px solid #e0e0e0;
    }
    .platform-label {
      font-size: 11px; font-weight: 700; letter-spacing: 0.12em;
      text-transform: uppercase; color: #666; margin-right: 8px;
    }
    .stat-item { display: flex; flex-direction: column; align-items: center; min-width: 60px; }
    .stat-num { font-size: 22px; font-weight: 800; line-height: 1; }
    .stat-label {
      font-size: 11px; color: #666; text-transform: uppercase;
      letter-spacing: 0.06em; margin-top: 2px; text-align: center;
    }

    /* ── TAB NAV ── */
    .tab-nav {
      background: #fff; border-bottom: 2px solid #e0e0e0;
      padding: 0 48px; display: flex; gap: 0;
    }
    .tab-btn {
      padding: 16px 24px; font-family: inherit; font-size: 13px;
      font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase;
      background: none; border: none; border-bottom: 3px solid transparent;
      margin-bottom: -2px; cursor: pointer; color: #888; transition: color 0.15s;
    }
    .tab-btn:hover { color: #333; }
    .tab-btn.active { color: #000; border-bottom-color: #ceff00; }

    /* ── TAB PANES ── */
    .tab-pane { display: none; }
    .tab-pane.active { display: block; }

    /* ── LAYOUT ── */
    .main { max-width: 1100px; margin: 0 auto; padding: 40px 48px 80px; }
    .section { padding: 32px 0; border-bottom: 1px solid #e0e0e0; }
    .section:last-child { border-bottom: none; }
    .section-title {
      font-size: 13px; font-weight: 700; letter-spacing: 0.14em;
      text-transform: uppercase; color: #666; margin-bottom: 16px;
    }

    /* ── PILLS (beat map) ── */
    .pill-grid { display: flex; flex-wrap: wrap; gap: 8px; }
    .pill {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 7px 14px; border-radius: 100px;
      font-size: 13px; font-weight: 600; cursor: default;
    }
    .pill-count { font-size: 11px; font-weight: 800; opacity: 0.7; }
    .legend { display: flex; gap: 20px; margin-bottom: 16px; flex-wrap: wrap; }
    .legend-item { display: flex; align-items: center; gap: 6px; font-size: 12px; color: #555; }
    .legend-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }

    /* ── ECOSYSTEM CONTEXT ── */
    .context-lead {
      font-size: 18px; line-height: 1.7; max-width: 760px;
      color: #111; margin-bottom: 32px;
    }
    .context-grid {
      display: grid; grid-template-columns: 1fr 1fr; gap: 24px;
      margin-bottom: 32px;
    }
    .context-card {
      border: 1px solid #e0e0e0; border-radius: 10px; padding: 24px;
    }
    .context-card h3 {
      font-size: 13px; font-weight: 700; text-transform: uppercase;
      letter-spacing: 0.1em; color: #666; margin-bottom: 12px;
    }
    .context-card p { font-size: 14px; line-height: 1.6; color: #333; }
    .context-card ul {
      list-style: none; margin-top: 8px;
    }
    .context-card ul li {
      font-size: 13px; line-height: 1.6; color: #333;
      padding: 2px 0; border-bottom: 1px solid #f0f0f0;
    }
    .context-card ul li:last-child { border-bottom: none; }
    .watch-list { background: #fff8e6; border-color: #f5d96e; }
    .watch-list h3 { color: #b07000; }

    /* ── COVERAGE VACUUMS ── */
    .vacuum-grid { display: flex; flex-direction: column; gap: 16px; }
    .vacuum-card {
      border-left: 4px solid #cc0000; padding: 16px 20px;
      background: #fff8f8; border-radius: 0 8px 8px 0;
    }
    .vacuum-card.partial {
      border-left-color: #f5a623; background: #fffbf0;
    }
    .vacuum-card h3 { font-size: 15px; font-weight: 700; margin-bottom: 6px; }
    .vacuum-card p { font-size: 14px; line-height: 1.6; color: #444; }
    .vacuum-severity {
      display: inline-block; font-size: 10px; font-weight: 800;
      letter-spacing: 0.1em; text-transform: uppercase; padding: 2px 8px;
      border-radius: 100px; margin-left: 8px; vertical-align: middle;
    }
    .sev-critical { background: #ffcccc; color: #990000; }
    .sev-gap { background: #ffe4b5; color: #7a4f00; }

    /* ── CREATOR TABLE ── */
    .table-filters {
      display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 20px;
      align-items: center;
    }
    .filter-label {
      font-size: 12px; font-weight: 700; text-transform: uppercase;
      letter-spacing: 0.08em; color: #666;
    }
    .filter-select {
      font-family: inherit; font-size: 13px; font-weight: 600;
      padding: 6px 12px; border: 1.5px solid #ddd; border-radius: 6px;
      background: #fff; cursor: pointer; appearance: none;
      padding-right: 24px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M0 0l5 6 5-6z' fill='%23666'/%3E%3C/svg%3E");
      background-repeat: no-repeat; background-position: right 8px center;
    }
    .filter-select:focus { outline: none; border-color: #ceff00; }
    .table-wrap { overflow-x: auto; border-radius: 10px; border: 1px solid #e0e0e0; }
    table { width: 100%; border-collapse: collapse; font-size: 13px; }
    th {
      background: #000; color: #fff; font-weight: 700; font-size: 11px;
      letter-spacing: 0.1em; text-transform: uppercase;
      padding: 12px 14px; text-align: left; white-space: nowrap;
    }
    td { padding: 10px 14px; border-bottom: 1px solid #f0f0f0; vertical-align: top; }
    tr:last-child td { border-bottom: none; }
    tr:hover td { background: #fafafa; }
    .td-name { font-weight: 600; white-space: nowrap; }
    .td-plat { color: #555; max-width: 160px; font-size: 12px; }
    .td-beat { color: #333; }
    .td-geo { color: #666; font-size: 12px; }
    td a { color: #000; text-decoration: underline; }
    td a:hover { color: #555; }
    .badge-new {
      display: inline-block; font-size: 9px; font-weight: 800;
      letter-spacing: 0.08em; text-transform: uppercase;
      background: #ceff00; color: #000; padding: 2px 5px;
      border-radius: 4px; margin-left: 6px; vertical-align: middle;
    }
    .table-count {
      font-size: 13px; color: #666; margin-bottom: 12px;
    }
    .loading { font-size: 14px; color: #999; font-style: italic; padding: 20px 0; }

    /* ── MISC ── */
    .footer {
      background: #000; color: #555; padding: 24px 48px;
      font-size: 12px; display: flex; justify-content: space-between;
      align-items: center; flex-wrap: wrap; gap: 12px;
    }
    .footer a { color: #888; }
    .atlas-mark { font-size: 13px; font-weight: 800; color: #ceff00; letter-spacing: 0.04em; }

    @media (max-width: 768px) {
      .crisis-banner { padding: 12px 20px; }
      .header { padding: 28px 20px 24px; }
      .header-title { font-size: 32px; }
      .header-stat-num { font-size: 28px; }
      .platform-bar { padding: 16px 20px; }
      .tab-nav { padding: 0 20px; overflow-x: auto; }
      .tab-btn { padding: 14px 16px; font-size: 11px; white-space: nowrap; }
      .main { padding: 24px 20px 60px; }
      .context-grid { grid-template-columns: 1fr; }
      .footer { padding: 20px; }
    }
  </style>
</head>
<body>

<!-- ── CRISIS BANNER ── -->
<div class="crisis-banner">
  <strong>Context:</strong> On February 4, 2026, <em>The Washington Post</em> laid off approximately 100 employees — including its entire Virginia statehouse team, Maryland statehouse team, DC crime reporter, and WMATA/transit reporter. The independent ecosystem mapped below is now the <strong>primary remaining infrastructure</strong> for these beats.
</div>

<!-- ── HEADER ── -->
<header class="header">
  <div class="header-eyebrow">Atlas City Lab · DMV Ecosystem Snapshot</div>
  <h1 class="header-title">Washington, D.C. / DMV</h1>
  <p class="header-sub">Independent local journalism · March 2026</p>
  <div class="header-meta">
    <div class="header-stat">
      <span class="header-stat-num" id="stat-total">28</span>
      <span class="header-stat-label">Creators tracked</span>
    </div>
    <div class="header-stat">
      <span class="header-stat-num">2</span>
      <span class="header-stat-label">Strong beats (5+)</span>
    </div>
    <div class="header-stat">
      <span class="header-stat-num">6</span>
      <span class="header-stat-label">Coverage gaps</span>
    </div>
    <div class="header-stat">
      <span class="header-stat-num">23</span>
      <span class="header-stat-label">Added Mar 2026</span>
    </div>
  </div>
</header>

<!-- ── PLATFORM BAR ── -->
<div class="platform-bar">
  <span class="platform-label">By platform</span>
  <div class="stat-item"><span class="stat-num">14</span><span class="stat-label">Website</span></div>
  <div class="stat-item"><span class="stat-num">6</span><span class="stat-label">Newsletter</span></div>
  <div class="stat-item"><span class="stat-num">4</span><span class="stat-label">Social</span></div>
  <div class="stat-item"><span class="stat-num">2</span><span class="stat-label">Video</span></div>
  <div class="stat-item"><span class="stat-num">2</span><span class="stat-label">Podcast</span></div>
</div>

<!-- ── TAB NAV ── -->
<nav class="tab-nav" role="tablist">
  <button class="tab-btn active" data-tab="beatmap" role="tab" aria-selected="true">Beat Map</button>
  <button class="tab-btn" data-tab="context" role="tab" aria-selected="false">Ecosystem Context</button>
  <button class="tab-btn" data-tab="vacuums" role="tab" aria-selected="false">Coverage Vacuums</button>
  <button class="tab-btn" data-tab="creators" role="tab" aria-selected="false">Atlas Creators</button>
</nav>

<!-- ═══════════════════════════════════════════ -->
<!-- TAB 1: BEAT MAP                             -->
<!-- ═══════════════════════════════════════════ -->
<div class="tab-pane active" id="tab-beatmap">
<div class="main">

  <section class="section">
    <h2 class="section-title">Beat Coverage Map — DMV Local Journalism</h2>
    <div class="legend">
      <span class="legend-item"><span class="legend-dot" style="background:#ceff00"></span>Strong (5+ creators)</span>
      <span class="legend-item"><span class="legend-dot" style="background:#ffff00"></span>Emerging (2–4)</span>
      <span class="legend-item"><span class="legend-dot" style="background:#ffcccc"></span>Gap (0–1)</span>
    </div>
    <div class="pill-grid">
      <span class="pill" style="background:#ceff00;color:#000" title="5 creators: Brodbeck, Bacic, Ashford, Kiser, Wadsworth">Northern Virginia <span class="pill-count">5</span></span>
      <span class="pill" style="background:#ceff00;color:#000" title="5 creators: Harrod, Rhode, Kuskevics, Tsironis, Davis Brown">Suburban Maryland <span class="pill-count">5</span></span>
      <span class="pill" style="background:#ffff00;color:#000" title="4 creators: Austermuhle, Kain, Silverman, Schneider">DC Government <span class="pill-count">4</span></span>
      <span class="pill" style="background:#ffff00;color:#000" title="4 creators: Henney, Calhoun, Joe Friday, Derrick">Criminal Justice <span class="pill-count">4</span></span>
      <span class="pill" style="background:#ffff00;color:#000" title="3 creators: Ford, Lazarick, O'Connell">Maryland Legislature <span class="pill-count">3</span></span>
      <span class="pill" style="background:#ffff00;color:#000" title="2 creators: Delgadillo, Baca">Housing <span class="pill-count">2</span></span>
      <span class="pill" style="background:#ffff00;color:#000" title="2 creators: Wong, Cordell">Transportation <span class="pill-count">2</span></span>
      <span class="pill" style="background:#ffff00;color:#000" title="2 creators: Peele, Lay">Black DC <span class="pill-count">2</span></span>
      <span class="pill" style="background:#ffcccc;color:#500" title="1 creator (secondary only): Kain covers Education as secondary">Education <span class="pill-count">0</span></span>
      <span class="pill" style="background:#ffcccc;color:#500" title="0 creators with primary Virginia legislature beat">Virginia Legislature <span class="pill-count">1</span></span>
      <span class="pill" style="background:#ffcccc;color:#500" title="0 dedicated independent creators">Social Services <span class="pill-count">0</span></span>
      <span class="pill" style="background:#ffcccc;color:#500" title="0 dedicated independent creators">Immigrant Communities <span class="pill-count">0</span></span>
      <span class="pill" style="background:#ffcccc;color:#500" title="0 dedicated DMV environment reporters">Environment <span class="pill-count">0</span></span>
      <span class="pill" style="background:#ffcccc;color:#500" title="No dedicated independent DMV business reporter">Local Business <span class="pill-count">0</span></span>
    </div>
  </section>

  <section class="section">
    <h2 class="section-title">Geographic Distribution</h2>
    <div class="pill-grid">
      <span class="pill" style="background:#efeff2;color:#000">Washington, D.C. <span class="pill-count" style="opacity:1">11</span></span>
      <span class="pill" style="background:#efeff2;color:#000">Maryland <span class="pill-count" style="opacity:1">10</span></span>
      <span class="pill" style="background:#efeff2;color:#000">Virginia <span class="pill-count" style="opacity:1">7</span></span>
    </div>
  </section>

</div>
</div>

<!-- ═══════════════════════════════════════════ -->
<!-- TAB 2: ECOSYSTEM CONTEXT                    -->
<!-- ═══════════════════════════════════════════ -->
<div class="tab-pane" id="tab-context">
<div class="main">

  <section class="section">
    <h2 class="section-title">What This Ecosystem Is</h2>
    <p class="context-lead">
      The DMV independent journalism ecosystem has grown substantially since the collapse of DCist in February 2024. What was once a single-outlet local news environment is now a distributed network of 28 tracked creator-journalists — operating across newsletters, websites, podcasts, social media, and video — covering beats from Annapolis statehouse to Prince William County development to DC's wards east of the Anacostia.
    </p>
    <p class="context-lead" style="font-size:15px">
      The February 4, 2026 Washington Post layoffs removed the institutional fallback that many assumed covered these beats. The independent network below is now the primary active journalism infrastructure for DC government, Maryland legislature, Virginia statehouse, WMATA, and DC criminal justice — all in one news cycle.
    </p>
  </section>

  <section class="section">
    <h2 class="section-title">Ecosystem Signals</h2>
    <div class="context-grid">
      <div class="context-card">
        <h3>Institutional Anchors</h3>
        <p>Three established nonprofit/independent outlets form the backbone: <strong>The 51st</strong> (DCist successor, DC government + housing), <strong>Maryland Matters</strong> (Annapolis statehouse), and <strong>Greater Greater Washington</strong> (housing + urbanism). These have institutional structures, not just individual creators.</p>
      </div>
      <div class="context-card">
        <h3>Platform Diversity</h3>
        <p>Website-native outlets (14) dominate, followed by newsletters (6). Notable: the DMV citizen journalism network on Twitter/X — Henney, Calhoun, Cordell, Derrick — is a distinct real-time layer that fills a spot news gap most newsletters and websites can't touch.</p>
      </div>
      <div class="context-card">
        <h3>NoVA &amp; Suburban MD Density</h3>
        <p>The two strongest beats in the ecosystem are <strong>Northern Virginia</strong> (ARLnow, Fairfax Machine, Annandale Today, Potomac Local, The Burn — 5 creators) and <strong>Suburban Maryland</strong> (Context, Good Morning MoCo, DMV News Live, MoCo Show, All Politics Is Local — 5 creators). The suburbs are paradoxically better covered than DC proper on some dimensions.</p>
      </div>
      <div class="context-card">
        <h3>DCist Diaspora</h3>
        <p>The 51st (launched 2024) was founded by former DCist journalists Martin Austermuhle and Natalie Delgadillo after DCist's shutdown. It is the most direct institutional successor to DCist's DC government, housing, and community accountability coverage — and currently the strongest independent DC-proper outlet in this ecosystem.</p>
      </div>
      <div class="context-card">
        <h3>East of the River Gap</h3>
        <p>Congress Heights on the Rise (Nikki Peele, since 2008) and Source of the Spring (David Lay) are the only tracked creators consistently covering DC Wards 7 and 8. This remains a significant structural gap — two individual creators for the two lowest-income, most underserved DC wards.</p>
      </div>
      <div class="context-card watch-list">
        <h3>⚡ Watch List — WaPo Alumni (No Platform Yet)</h3>
        <ul>
          <li><strong>Karina Elwood</strong> — VA education reporter (FCPS/MCPS/PG schools)</li>
          <li><strong>Emma Uber</strong> — DC crime &amp; criminal justice / MPD accountability</li>
          <li><strong>Rachel Weiner</strong> — WMATA &amp; regional transportation</li>
          <li><strong>Michael Brice-Saddler</strong> — DC communities, all 8 wards</li>
          <li><strong>Marissa Lang</strong> — DC housing &amp; gentrification (Pulitzer winner)</li>
          <li><strong>Nicole Asbury</strong> — Maryland K-12 education (MCPS/PG County)</li>
        </ul>
        <p style="margin-top:10px;font-size:12px;color:#7a5500">All laid off Feb 4, 2026. None had launched independent platforms as of March 2026. If any launch Substacks, this page should be updated.</p>
      </div>
    </div>
  </section>

</div>
</div>

<!-- ═══════════════════════════════════════════ -->
<!-- TAB 3: COVERAGE VACUUMS                     -->
<!-- ═══════════════════════════════════════════ -->
<div class="tab-pane" id="tab-vacuums">
<div class="main">

  <section class="section">
    <h2 class="section-title">Critical Coverage Gaps</h2>
    <p style="font-size:14px;color:#555;margin-bottom:24px">Beats where no independent creator-journalist has established a consistent, ongoing presence. Ranked by severity relative to community information need.</p>

    <div class="vacuum-grid">

      <div class="vacuum-card">
        <h3>Education <span class="vacuum-severity sev-critical">Critical Gap</span></h3>
        <p>No independent DC/Maryland/Virginia education reporter has an established platform. The 51st's Chris Kain covers education as a secondary beat within DC Council. WaPo's Karina Elwood (Virginia schools) and Nicole Asbury (Maryland K-12) were both laid off Feb 4, 2026, leaving no active replacement for Fairfax/MCPS/PG County school coverage. The Fairfax Machine (Ryan Bacic) covers education as a secondary beat in Fairfax County. No standalone education outlet exists for the region.</p>
      </div>

      <div class="vacuum-card">
        <h3>Immigrant Communities <span class="vacuum-severity sev-critical">Critical Gap</span></h3>
        <p>DCist's Hector Alejandro Arzate covered DC immigrant communities before the outlet shut down in February 2024. He subsequently moved to KCUR in Kansas City. No independent creator has filled this coverage area — which is particularly acute given the region's large Central American, Ethiopian, and Vietnamese diaspora communities concentrated in Prince George's County and Northern Virginia.</p>
      </div>

      <div class="vacuum-card">
        <h3>Social Services <span class="vacuum-severity sev-critical">Critical Gap</span></h3>
        <p>Street Sense Media (unhoused population) and some coverage by The 51st's Natalie Delgadillo are the closest proxies, but no independent creator has a primary beat covering DC/DMV social services broadly — SNAP, Medicaid, childcare, housing assistance, domestic violence services. This is a high-stakes beat post-federal DOGE cuts in 2025–2026.</p>
      </div>

      <div class="vacuum-card">
        <h3>Environment / Climate <span class="vacuum-severity sev-gap">Gap</span></h3>
        <p>No independent creator covers DMV-specific environmental issues — Chesapeake Bay watershed policy, DC stormwater infrastructure, Northern Virginia development and runoff, Maryland environmental regulation. The nearest proxy is national/DC-based climate newsletters (Emily Sanders / Exxon Knews) that cover federal policy, not regional environmental journalism.</p>
      </div>

      <div class="vacuum-card partial">
        <h3>Virginia Legislature <span class="vacuum-severity sev-gap">Partial</span></h3>
        <p>Brandon Jarvis (Virginia Scope) is a strong, established Virginia statehouse Substack with tens of thousands of paid subscribers — but he is one person. There is no institutional backup, no Virginia statehouse podcast, no Richmond-based independent news org with DMV distribution reach. Maryland has three tracked statehouse voices (Ford, Lazarick, O'Connell). Virginia has one.</p>
      </div>

      <div class="vacuum-card partial">
        <h3>Local Business / Economy <span class="vacuum-severity sev-gap">Partial</span></h3>
        <p>Many tracked creators cover local business as a secondary beat (PoPville, ARLnow, The Burn, Fairfax Machine), but no creator has a primary focus on DC/DMV economic reporting — small business development, workforce data, neighborhood economic change, real estate market accountability. The Washington Business Journal is paywalled institutional coverage. No independent voice fills this gap.</p>
      </div>

    </div>
  </section>

</div>
</div>

<!-- ═══════════════════════════════════════════ -->
<!-- TAB 4: ATLAS CREATORS                       -->
<!-- ═══════════════════════════════════════════ -->
<div class="tab-pane" id="tab-creators">
<div class="main">

  <section class="section">
    <h2 class="section-title">Creator Directory</h2>

    <div class="table-filters">
      <span class="filter-label">Filter:</span>
      <select class="filter-select" id="filter-beat" onchange="filterTable()">
        <option value="">All beats</option>
        <option value="DC Government">DC Government</option>
        <option value="Housing">Housing</option>
        <option value="Transportation">Transportation</option>
        <option value="Education">Education</option>
        <option value="Criminal Justice">Criminal Justice</option>
        <option value="Social Services">Social Services</option>
        <option value="Local Business">Local Business</option>
        <option value="Environment">Environment</option>
        <option value="Immigrant Communities">Immigrant Communities</option>
        <option value="Black DC">Black DC</option>
        <option value="Maryland Legislature">Maryland Legislature</option>
        <option value="Virginia Legislature">Virginia Legislature</option>
        <option value="Suburban Maryland">Suburban Maryland</option>
        <option value="Northern Virginia">Northern Virginia</option>
      </select>
      <select class="filter-select" id="filter-geo" onchange="filterTable()">
        <option value="">All geographies</option>
        <option value="Washington, D.C.">Washington, D.C.</option>
        <option value="Maryland">Maryland</option>
        <option value="Virginia">Virginia</option>
      </select>
      <select class="filter-select" id="filter-platform" onchange="filterTable()">
        <option value="">All platforms</option>
        <option value="Website">Website</option>
        <option value="Newsletter">Newsletter</option>
        <option value="Social">Social</option>
        <option value="Video">Video</option>
        <option value="Podcast">Podcast</option>
      </select>
    </div>

    <p class="table-count" id="table-count">Loading creators…</p>

    <div class="table-wrap">
      <table id="creator-table">
        <thead>
          <tr>
            <th>Creator</th>
            <th>Channel</th>
            <th>Platform</th>
            <th>Primary Beat</th>
            <th>Geography</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody id="creator-tbody">
          <tr><td colspan="6" class="loading">Loading creator data…</td></tr>
        </tbody>
      </table>
    </div>

  </section>
</div>
</div>

<!-- ── FOOTER ── -->
<footer class="footer">
  <span>Atlas City Lab · Washington, D.C. / DMV · March 2026</span>
  <span class="atlas-mark">JOURNALISM ATLAS</span>
  <a href="/">← Back to Atlas</a>
</footer>

<script>
/* ── TAB SWITCHING ── */
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.tab-btn').forEach(b => {
      b.classList.remove('active');
      b.setAttribute('aria-selected', 'false');
    });
    document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
    btn.classList.add('active');
    btn.setAttribute('aria-selected', 'true');
    document.getElementById('tab-' + btn.dataset.tab).classList.add('active');
  });
});

/* ── CREATOR TABLE ── */
let allCreators = [];

async function loadCreators() {
  try {
    const res = await fetch('assets/data/dmv-creators.json');
    const data = await res.json();
    allCreators = data.filter(c => c.name && !c._comment && !c._placeholder);
    renderTable(allCreators);
    document.getElementById('stat-total').textContent = allCreators.length;
  } catch (e) {
    document.getElementById('creator-tbody').innerHTML =
      '<tr><td colspan="6" class="loading">Unable to load creator data. Open via a local server or deploy to view.</td></tr>';
    document.getElementById('table-count').textContent = '';
  }
}

function platformGroup(platform) {
  if (!platform) return '';
  if (platform.startsWith('Newsletter')) return 'Newsletter';
  if (platform.startsWith('Video')) return 'Video';
  if (platform.startsWith('Social')) return 'Social';
  if (platform === 'Podcast') return 'Podcast';
  if (platform === 'Website') return 'Website';
  return platform;
}

function geoGroup(geo) {
  if (!geo) return '';
  if (geo.includes('Maryland') || geo.includes('MD')) return 'Maryland';
  if (geo.includes('Virginia') || geo.includes('VA') || geo.includes('Arlington')) return 'Virginia';
  if (geo.includes('Washington') || geo.includes('D.C.')) return 'Washington, D.C.';
  return geo;
}

function filterTable() {
  const beat = document.getElementById('filter-beat').value;
  const geo = document.getElementById('filter-geo').value;
  const platform = document.getElementById('filter-platform').value;

  const filtered = allCreators.filter(c => {
    const beatMatch = !beat || c.beat === beat || c.beat_secondary === beat;
    const geoMatch = !geo || geoGroup(c.geography) === geo;
    const platMatch = !platform || platformGroup(c.platform) === platform;
    return beatMatch && geoMatch && platMatch;
  });

  renderTable(filtered);
}

function renderTable(creators) {
  const tbody = document.getElementById('creator-tbody');
  const count = document.getElementById('table-count');

  count.textContent = `${creators.length} creator${creators.length !== 1 ? 's' : ''}`;

  if (creators.length === 0) {
    tbody.innerHTML = '<tr><td colspan="6" class="loading">No creators match this filter.</td></tr>';
    return;
  }

  tbody.innerHTML = creators.map(c => {
    const isNew = c.added === '2026-03';
    const newBadge = isNew ? '<span class="badge-new">New</span>' : '';
    const beatSecondary = c.beat_secondary ? ` <span style="color:#999;font-size:11px">/ ${c.beat_secondary}</span>` : '';
    const notes = c.notes ? `<span style="color:#666;font-size:12px">${escapeHtml(c.notes)}</span>` : '';
    return `<tr>
      <td class="td-name">${escapeHtml(c.name)}${newBadge}</td>
      <td><a href="${escapeHtml(c.url || '#')}" target="_blank" rel="noopener">${escapeHtml(c.channel || '')}</a></td>
      <td class="td-plat">${escapeHtml(c.platform || '')}</td>
      <td class="td-beat">${escapeHtml(c.beat || '')}${beatSecondary}</td>
      <td class="td-geo">${escapeHtml(c.geography || '')}</td>
      <td>${notes}</td>
    </tr>`;
  }).join('');
}

function escapeHtml(str) {
  if (!str) return '';
  return String(str)
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
}

loadCreators();
</script>

</body>
</html>
